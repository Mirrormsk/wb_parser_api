# WB Parser

Веб-сервис, состоящий из двух частей - Telegram-бота, и API.



## Установка

### Переименуйте файл `.env.example` в `.env`, и укажите необходимые переменные.


## Запуск через Docker

```bash
docker-compose up
```

## Запуск без Docker'а:

Создание виртуального окружения:

```bash
python3 -m venv venv
```
Активация виртуального окружения:
```bash
source venv/bin/activate
```



Установка зависимостей:

```bash
pip3 install -r requirements.txt
```

## Запуск
Запуск бота:
```bash
python3 bot.py
```
Запуск web-api:
```bash
uvicorn main:app --host 0.0.0.0 --port 8000
```
Альтернатива - запуск через make:
```bash
# Запуск бота
make run-bot

# Запуск web-api
make run-web
```
## Использование

1. Получение qr-кода: 

```
GET /login/
```

В ответе придет ссылка на qr-код, для корректного отображения ссылки нужно правильно указать переменную `HOST_NAME` 
в файле `.env`.

При переходе по ссылке будет показан qr-код, который нужно отсканировать в приложении Telegram на телефоне, после этого
будет сохранена сессия пользователя, и он будет считаться авторизованным.

